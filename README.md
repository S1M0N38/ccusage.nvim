<div align="center">
  <h1>‚åñ&nbsp;&nbsp;ccusage.nvim&nbsp;&nbsp;‚åñ</h1>
  <p align="center">
     <a href="https://github.com/S1M0N38/ccusage.nvim/actions/workflows/run-tests.yml">
     <img alt="Tests workflow" src="https://img.shields.io/github/actions/workflow/status/S1M0N38/ccusage.nvim/run-tests.yml?style=for-the-badge&label=Tests"/>
     </a>
     <a href="https://luarocks.org/modules/S1M0N38/ccusage.nvim">
     <img alt="LuaRocks release" src="https://img.shields.io/luarocks/v/S1M0N38/ccusage.nvim?style=for-the-badge&color=5d2fbf"/>
     </a>
     <a href="https://github.com/S1M0N38/ccusage.nvim/releases">
     <img alt="GitHub release" src="https://img.shields.io/github/v/release/S1M0N38/ccusage.nvim?style=for-the-badge&label=GitHub"/>
     </a>
     <a href="">
     <img alt="Reddit post" src="https://img.shields.io/badge/post-reddit?style=for-the-badge&label=Reddit&color=FF5700"/>
     </a>
  </p>
  <div><img src="" alt="Screenshot: ccusage.nvim example"></div>
  <p><em>Track Claude Code usage in Neovim</em></p>
</div>

---

## üí° Idea

I like using [Claude
Code](https://www.anthropic.com/claude-code) with Anthropic Pro subscription ($20). However, with my current workload, I hit usage limits somewhat consistently (especially when supercharging Claude Code with [SuperClaude](https://github.com/SuperClaude-Org/SuperClaude_Framework)). So I need to be a bit more strategic with my requests. At the moment of writing this, Anthropic bases their API limits on a 5-hour window [^1]. After 5 hours, the usage limits are reset. [ccusage](https://github.com/ryoppippi/ccusage) is a simple CLI application that helps you track Claude Code usage.

I want to have access to the statistics of my usage generated by ccusage directly in Neovim. ccusage.nvim is a very simple plugin that runs ccusage and integrates results into the statusline (lualine component). A command is also available to see the results in a Neovim notification (`vim.notify`).


## ‚ö°Ô∏è Requirements

- Neovim ‚â• 0.11
- [ccusage CLI tool](https://www.npmjs.com/package/ccusage) installed (`npm install -g ccusage`)
- [lualine.nvim](https://github.com/nvim-lualine/lualine.nvim) (optional)

## üì¶ Installation

You can install ccusage.nvim using your preferred plugin manager. Here's an example configuration for lazy.nvim:


```lua
-- Install and configure ccusage.nvim
{
  "S1M0N38/ccusage.nvim",
  version = "0.*",
  opts = {},
}
```

```lua
-- Enable ccusage.nvim lualine component
{
  "nvim-lualine/lualine.nvim",
  opts = {
    -- For example use in the lualine_x section
    sections = { lualine_x = { "ccusage" } },
    -- The rest of your lualine config ...
  },
}
```


## üöÄ Usage

To get started with ccusage.nvim, read the documentation with [`:help ccusage`](https://github.com/S1M0N38/ccusage.nvim/blob/main/doc/ccusage.txt). This will provide you with a comprehensive overview of the plugin's features and usage.

> [!NOTE]
> **Learning Vim/Neovim Documentation**: Vim/Neovim plugins are usually shipped with :help documentation. Learning how to navigate it is a valuable skill. If you are not familiar with it, start with `:help` and read the first 20 lines.


## üôè Acknowledgments

- [S1M0N38/base.nvim](https://github.com/S1M0N38/base.nvim) for template.
- [ryoppippi/ccusage](https://github.com/ryoppippi/ccusage) ccusage CLI tool.

[^1]: No one knows the exact limits. My speculation is that it's ~200 requests per session or ~15M total tokens (which bills around ~$8 of Sonnet 4 requests) per session (5 hours). They are planning to include weekly usage on top of session usage. Maybe there are already monthly limits in place.
